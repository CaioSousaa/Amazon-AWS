### AMAZON-AWS

<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://www.itexperts.com.br/wp-content/uploads/2022/02/09160825/aws_logo_smile_1200x630.png" width="500" alt="Brain-ag logo" /></a>
</p>

<p align="center">
  <img alt="Nest" src="https://img.shields.io/badge/nestjs-%23E0234E.svg?style=for-the-badge&logo=nestjs&logoColor=white" hspace="10">
  <img alt="Npm" src="https://img.shields.io/badge/NPM-%23CB3837.svg?style=for-the-badge&logo=npm&logoColor=white" hspace="10">
  <img alt="AWS" src="https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white" hspace="10">
</p>

---

### DescriÃ§Ã£o Geral

Este repositÃ³rio Ã© dedicado ao estudo das principais ferramentas e serviÃ§os oferecidos pela AWS, como Amazon S3, DynamoDB, EC2, entre outros. O objetivo Ã© explorar suas funcionalidades, entender as melhores prÃ¡ticas e otimizar seu uso em diferentes cenÃ¡rios.

Para isso, todos os estudos e implementaÃ§Ãµes serÃ£o desenvolvidos utilizando NestJS, um framework modular e escalÃ¡vel para Node.js. Usarei o NestJS combinado com outras bibliotecas e ferramentas para extrair o mÃ¡ximo de desempenho, seguranÃ§a e eficiÃªncia de cada tecnologia da AWS, garantindo uma abordagem moderna e bem estruturada no desenvolvimento de aplicaÃ§Ãµes.

---

### AMAZON-S3

O Amazon Simple Storage Service(S3) Ã© um serviÃ§o de armazenamento de objetos.

Dentro da S3 um objeto Ã© um arquivo e todos os metadados que o descrevem. E esses objetos sÃ£o armazenados dentro de buckets

**Buckets :**

- De maneira simples, um bucket Ã© um contÃªiner para objetos. Para criar um, primeiro vocÃª precisa especificar um nome de bucket e uma regiÃ£o AWS. Dentro dele, cada objeto possui uma chave, que Ã© o identificador desse objeto dentro do bucket.

<br>

### DescriÃ§Ã£o da AplicaÃ§Ã£o

Este projeto tem como objetivo a implementaÃ§Ã£o de um serviÃ§o de upload de arquivos utilizando o Amazon S3 e o NestJS. A aplicaÃ§Ã£o permite que arquivos sejam enviados e armazenados dentro de um bucket na AWS, garantindo escalabilidade, seguranÃ§a e alta disponibilidade.

### Tecnologias usadas

- Node.js
- Nest.js
- Mongo
- Mongoose
- Typescript
- Multer
- Amazon-S3

<br>

### Estrutura da AplicaÃ§Ã£o

<pre style="overflow-x: auto; max-width: 1000px; white-space: pre;">
src/
â”‚â”€â”€ app/
â”‚   â””â”€â”€ app.module.ts
â”‚â”€â”€ config/
â”‚   â””â”€â”€ MulterConfig.ts
â”‚â”€â”€ models/
â”‚   â””â”€â”€ Upload.ts
â”‚â”€â”€ upload/
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ IUploadDTO.ts
â”‚   â”œâ”€â”€ infra/
â”‚   â”‚   â””â”€â”€ http/
â”‚   â”‚       â””â”€â”€ upload.controller.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ CreateUpload.service.ts
â”‚   â””â”€â”€ upload.module.ts
â”‚â”€â”€ main.ts

</pre>

### Como usar a aplicaÃ§Ã£o?

<br>

**PrÃ©-requisitos:**

- Possuir uma conta AWS
- Criar um Bucket, nesse exemplo recomendo que o bucket esteja com as permissÃµes para que qualquer pessoa possa acessar os dados persistidos.
  Em caso de dÃºvidas, acesse a pÃ¡gina <strong><a href="https://www.treinaweb.com.br/blog/como-realizar-upload-no-s3-com-nestjs">TreinaWeb</a></strong>, onde hÃ¡ um guia ensinando como criar um bucket
- Criar um usuÃ¡rio IAM, aplicando a permissÃ£o "AmazonS3FullAccess"
- Gerar credenciais de seguranÃ§a para esse usuÃ¡rio IAM

<br>

**InstalaÃ§Ã£o:**

- Primeiramente, vocÃª deve usar o comando: `git clone https://github.com/CaioSousaa/Amazon-AWS.git` para clonar o projeto na sua mÃ¡quina.
- Ir para a pasta amazon-s3 acessando o caminho `/amazon-aws/amazon-s3`.
- ApÃ³s isso, rode o comando `npm install` para instalar as dependÃªncias e gerar a pasta node_modules

<br>

### ðŸš¨ ATENÃ‡ÃƒO ðŸš¨

Quando vocÃª executar os passos de clonagem, vocÃª estarÃ¡ clonando todas as outras aplicaÃ§Ãµes dentro do repositÃ³rio.

---

### AMAZON-DYNAMODB

O Amazon DynamoDB Ã© um serviÃ§o de banco de dados NoSQL com tecnologia sem servidor (serverless) que permite
o desenvolvimento de aplicaÃ§Ãµes modernas em qualquer escala jÃ¡ que a AWS gerencia automaticamente a infraestrutura
permitindo que os desenvolvedores foquem no uso do banco sem precisar se preocupar com provisionamento, configuraÃ§Ã£o ou manutenÃ§Ã£o de servidores.

<br>

### DescriÃ§Ã£o da AplicaÃ§Ã£o

Para explorar e usar operaÃ§Ãµes de escrita e leitura dentro do DynamoDb de maneira eficiente,
decidi criar uma aplicaÃ§Ã£o que envia de maneira automÃ¡tica e-mails para tasks ainda pendentes.

Primeiro Ã© necessÃ¡rio criar um cliente, no qual ele vai registrar as tasks, passando descriÃ§Ã£o e
o email de quem vai receber essa task. Crie um serviÃ§o de envio de e-mails utilizando
a biblioteca <b><a href="https://www.nodemailer.com/">Nodemailer</a></b>, e para o envio automÃ¡tico dos e-mails usei o <b><a href="https://docs.nestjs.com/techniques/task-scheduling">Task scheduling</a></b>
que possui integraÃ§Ã£o direta como Nest.js, onde com ele vocÃª pode agendar tarefas em horÃ¡rios ou datas fixas.

### Tecnologias usadas

- Node.js
- Nest.js
- DynamoDB
- Nodemailer
- Typescript
- Task Scheduling
- Docker-Compose
- Terraform

### Estrutura da AplicaÃ§Ã£o

<pre style="overflow-x: auto; max-width: 1000px; white-space: pre;">
src/
â”‚â”€â”€ app/
â”‚   â”œâ”€â”€ app.module.ts
â”‚
â”‚â”€â”€ config/
â”‚   â”œâ”€â”€ DynamoConfig.ts
â”‚
â”‚â”€â”€ infra/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ dynamo/
â”‚   â”‚   â”‚   â”œâ”€â”€ .terraform/
â”‚   â”‚   â”‚   â”œâ”€â”€ .terraform.lock.hcl
â”‚   â”‚   â”‚   â”œâ”€â”€ main.tf
â”‚   â”‚   â”‚   â”œâ”€â”€ terraform.tfstate
â”‚   â”‚   â”‚   â”œâ”€â”€ terraform.tfstate.backup
â”‚
â”‚â”€â”€ modules/
â”‚   â”œâ”€â”€ client/
â”‚   â”‚   â”œâ”€â”€ adapters/
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ client.module.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ mail/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ mail.module.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ task/
â”‚   â”‚   â”œâ”€â”€ adapters/
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ task.module.ts
â”‚
â”‚â”€â”€ main.ts
</pre>

### Como usar a aplicaÃ§Ã£o?

<br>

**PrÃ©-requisitos:**

- Ter o Terraform instalado na sua maquina para provisionar a infraestrutura do DynamoDb.

**InstalaÃ§Ã£o:**

- Primeiramente, vocÃª deve usar o comando: `git clone https://github.com/CaioSousaa/Amazon-AWS.git` para clonar o projeto na sua mÃ¡quina.
- Ir para a pasta amazon-dynamodb acessando o caminho `/amazon-aws/amazon-dynamodb`.
- ApÃ³s isso, rode o comando `npm install` para instalar as dependÃªncias e gerar a pasta node_modules

<br>

### ðŸš¨ ATENÃ‡ÃƒO ðŸš¨

Quando vocÃª executar os passos de clonagem, vocÃª estarÃ¡ clonando todas as outras aplicaÃ§Ãµes dentro do repositÃ³rio.

---

### AMAZON-RDS

O Amazon RDS (Relational Database Service) Ã© um serviÃ§o gerenciado de banco de dados relacional da AWS que facilita a configuraÃ§Ã£o, operaÃ§Ã£o e escalabilidade de bancos de dados na nuvem. Ele suporta vÃ¡rios mecanismos populares, como MySQL, PostgreSQL, MariaDB, Oracle e SQL Server, permitindo que os desenvolvedores foquem no uso do banco sem se preocupar com provisionamento, configuraÃ§Ã£o ou manutenÃ§Ã£o de servidores.

A AWS gerencia automaticamente tarefas como backups, atualizaÃ§Ãµes de software, replicaÃ§Ã£o e failover, garantindo alta disponibilidade e desempenho escalÃ¡vel para aplicaÃ§Ãµes modernas.

<br>

### DescriÃ§Ã£o da AplicaÃ§Ã£o

Para explorar e utilizar operaÃ§Ãµes de banco de dados relacional de maneira eficiente, decidi criar uma arquitetura baseada em microserviÃ§os utilizando o Amazon RDS e o <b><a href="https://kafka.apache.org/">Kafka.</a></b>

Criei dois bancos de dados separados: um para o serviÃ§o de purchase e outro para o serviÃ§o de reserve. No serviÃ§o de purchase, o cliente realiza a compra de um produto utilizando o <b><a href="https://stripe.com/br">Stripe</a></b> para simular o pagamento. Assim que a compra Ã© concluÃ­da, um evento Ã© enviado para um tÃ³pico Kafka, que serÃ¡ consumido pelo serviÃ§o de reserve.

O reserve escuta esse evento e registra automaticamente um agendamento com base na compra realizada, garantindo que o cliente tenha um horÃ¡rio reservado. Para isso, utilizei o Kafka para comunicaÃ§Ã£o assÃ­ncrona entre os serviÃ§os, garantindo escalabilidade e desacoplamento entre as operaÃ§Ãµes.

### Tecnologias usadas

- Node.js
- Nest.js
- RDS
- Kafka
- Typescript
- Stripe
- Docker-Compose

### Estrutura da AplicaÃ§Ã£o

<pre style="overflow-x: auto; max-width: 1000px; white-space: pre;">
apps/
â””â”€â”€ purchase/
    â”œâ”€â”€ dist/                   # CÃ³digo compilado (gerado pelo NestJS ao buildar)
    â”œâ”€â”€ node_modules/           # DependÃªncias do projeto
    â”œâ”€â”€ prisma/                 # ConfiguraÃ§Ãµes do Prisma ORM (migrations, schema, etc.)
    â”œâ”€â”€ src/                    # CÃ³digo-fonte principal
    â”‚   â”œâ”€â”€ app/                
    â”‚   â”‚   â””â”€â”€ app.module.ts   # MÃ³dulo principal da aplicaÃ§Ã£o
    â”‚   â”œâ”€â”€ external/           # CÃ³digo relacionado a integraÃ§Ãµes externas (ex: repositÃ³rios)
    â”‚   â”‚   â”œâ”€â”€ repositories/   # ImplementaÃ§Ãµes de repositÃ³rios (Prisma, API externa, etc.)
    â”‚   â”œâ”€â”€ infra/              # CÃ³digo relacionado Ã  infraestrutura
    â”‚   â”‚   â””â”€â”€ database/       
    â”‚   â”‚       â””â”€â”€ prisma/     # ConfiguraÃ§Ã£o do Prisma ORM
    â”‚   â”œâ”€â”€ modules/            # MÃ³dulos da aplicaÃ§Ã£o
    â”‚   â”‚   â”œâ”€â”€ customer/       # MÃ³dulo de clientes
    â”‚   â”‚   â”œâ”€â”€ kafka/          # MÃ³dulo de integraÃ§Ã£o com Kafka
    â”‚   â”‚   â”œâ”€â”€ payment/        # MÃ³dulo de pagamentos
    â”‚   â”‚   â”œâ”€â”€ product/        # MÃ³dulo de produtos
    â”‚   â”œâ”€â”€ main.ts             # Arquivo principal que inicia a aplicaÃ§Ã£o NestJS

</pre>

<pre style="overflow-x: auto; max-width: 1000px; white-space: pre;">
apps/
â””â”€â”€ reserve/
    â”œâ”€â”€ dist/                   # CÃ³digo compilado
    â”œâ”€â”€ node_modules/           # DependÃªncias do projeto
    â”œâ”€â”€ prisma/                 # ConfiguraÃ§Ã£o do Prisma ORM
    â”‚   â”œâ”€â”€ migrations/         # Migrations do banco de dados
    â”‚   â”œâ”€â”€ schema.prisma       # DefiniÃ§Ã£o do banco de dados Prisma
    â”œâ”€â”€ src/                    # CÃ³digo-fonte principal
    â”‚   â”œâ”€â”€ app/                
    â”‚   â”‚   â””â”€â”€ app.module.ts   # MÃ³dulo principal da aplicaÃ§Ã£o
    â”‚   â”œâ”€â”€ external/           # CÃ³digo relacionado a integraÃ§Ãµes externas (repositÃ³rios)
    â”‚   â”‚   â”œâ”€â”€ repositories/   # ImplementaÃ§Ã£o de repositÃ³rios
    â”‚   â”œâ”€â”€ infra/              # Infraestrutura do projeto
    â”‚   â”‚   â””â”€â”€ database/       # ConfiguraÃ§Ã£o do banco de dados
    â”‚   â”œâ”€â”€ modules/            # MÃ³dulos do domÃ­nio
    â”‚   â”‚   â”œâ”€â”€ appointment/    # MÃ³dulo de agendamentos
    â”‚   â”‚   â”œâ”€â”€ customer/       # MÃ³dulo de clientes
    â”‚   â”‚   â”œâ”€â”€ scheduling/     # MÃ³dulo de gerenciamento de horÃ¡rios
    â”‚   â”œâ”€â”€ main.ts             # Arquivo principal que inicia a aplicaÃ§Ã£o NestJS


</pre>

### Como usar a aplicaÃ§Ã£o?

<br>

**InstalaÃ§Ã£o:**

- Primeiramente, vocÃª deve usar o comando: `git clone https://github.com/CaioSousaa/Amazon-AWS.git` para clonar o projeto na sua mÃ¡quina.
- Ir para a pasta amazon-dynamodb acessando o caminho `/amazon-aws/amazon-rds`.
- ApÃ³s isso, rode o comando `npm install` para instalar as dependÃªncias e gerar a pasta node_modules

<br>

### ðŸš¨ ATENÃ‡ÃƒO ðŸš¨

Quando vocÃª executar os passos de clonagem, vocÃª estarÃ¡ clonando todas as outras aplicaÃ§Ãµes dentro do repositÃ³rio.
